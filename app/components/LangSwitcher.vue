<script setup lang="ts">
  import { useI18n } from '#imports'

  const { locale, setLocale } = useI18n()

  const changeLocale = async (newLocale: 'es' | 'en' | 'fr') => {
    await setLocale(newLocale)
  }

  const items = [
    { label: 'ğŸ‡¬ğŸ‡§ English', value: 'en' },
    { label: 'ğŸ‡ªğŸ‡¸ EspaÃ±ol', value: 'es' },
    { label: 'ğŸ‡«ğŸ‡· FranÃ§ais', value: 'fr' }
  ]

  const selectedLocale = ref(locale.value)
</script>

<template>
  <USelect
    v-model="selectedLocale"
    :items="items"
    @update:model-value="changeLocale" />
</template>
