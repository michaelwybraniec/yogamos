import{d as be,B as qe,C as k,i as M,w as $,D as G,E as K,G as p,P as et,r as Pe,H as Be,I as N,J as Y,K as ge,L as Re,M as Ke,N as tt,z as Ne,O as st,Q as Fe,R as nt,S as Me,U as ze,V as it,f as W,W as rt,X as je,e as q,Y as at,Z as ot,c as V,F as ce,$ as oe,a0 as ut,n as L,a1 as ie,a2 as Ie,t as he,a3 as lt,a4 as ct,a5 as ht,a6 as dt,a7 as ft,g as de,a8 as re,a9 as gt,aa as pt,ab as mt,ac as At,ad as He,ae as yt,af as vt,ag as Ct,ah as bt,ai as _e,aj as xt,ak as Et,al as Bt,am as Ft}from"./Bp9C1ACj.js";import{U as Mt}from"./kIj-Wmy2.js";import{u as It}from"./Bb8Vx50D.js";const _t=be({__name:"ListboxGroupLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(s){const e=s,t=qe({id:""});return(n,i)=>(M(),k(p(et),K(e,{id:p(t).id}),{default:$(()=>[G(n.$slots,"default")]),_:3},16,["id"]))}});function z(s){return Array.isArray?Array.isArray(s):We(s)==="[object Array]"}function St(s){if(typeof s=="string")return s;let e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function Lt(s){return s==null?"":St(s)}function R(s){return typeof s=="string"}function Ue(s){return typeof s=="number"}function Dt(s){return s===!0||s===!1||kt(s)&&We(s)=="[object Boolean]"}function Ve(s){return typeof s=="object"}function kt(s){return Ve(s)&&s!==null}function w(s){return s!=null}function fe(s){return!s.trim().length}function We(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const $t="Incorrect 'index' type",wt=s=>`Invalid value for key ${s}`,Tt=s=>`Pattern length exceeds max of ${s}.`,Ot=s=>`Missing ${s} property in key`,Pt=s=>`Property 'weight' in key '${s}' must be a positive integer`,Se=Object.prototype.hasOwnProperty;class Rt{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(n=>{let i=Ge(n);this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight}),this._keys.forEach(n=>{n.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ge(s){let e=null,t=null,n=null,i=1,r=null;if(R(s)||z(s))n=s,e=Le(s),t=pe(s);else{if(!Se.call(s,"name"))throw new Error(Ot("name"));const a=s.name;if(n=a,Se.call(s,"weight")&&(i=s.weight,i<=0))throw new Error(Pt(a));e=Le(a),t=pe(a),r=s.getFn}return{path:e,id:t,weight:i,src:n,getFn:r}}function Le(s){return z(s)?s:s.split(".")}function pe(s){return z(s)?s.join("."):s}function Kt(s,e){let t=[],n=!1;const i=(r,a,l)=>{if(w(r))if(!a[l])t.push(r);else{let c=a[l];const u=r[c];if(!w(u))return;if(l===a.length-1&&(R(u)||Ue(u)||Dt(u)))t.push(Lt(u));else if(z(u)){n=!0;for(let o=0,d=u.length;o<d;o+=1)i(u[o],a,l+1)}else a.length&&i(u,a,l+1)}};return i(s,R(e)?e.split("."):e,0),n?t:t[0]}const Nt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},zt={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,e)=>s.score===e.score?s.idx<e.idx?-1:1:s.score<e.score?-1:1},jt={location:0,threshold:.6,distance:100},Ht={useExtendedSearch:!1,getFn:Kt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var y={...zt,...Nt,...jt,...Ht};const Ut=/[^ ]+/g;function Vt(s=1,e=3){const t=new Map,n=Math.pow(10,e);return{get(i){const r=i.match(Ut).length;if(t.has(r))return t.get(r);const a=1/Math.pow(r,.5*s),l=parseFloat(Math.round(a*n)/n);return t.set(r,l),l},clear(){t.clear()}}}class xe{constructor({getFn:e=y.getFn,fieldNormWeight:t=y.fieldNormWeight}={}){this.norm=Vt(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,R(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();R(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!w(e)||fe(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((i,r)=>{let a=i.getFn?i.getFn(e):this.getFn(e,i.path);if(w(a)){if(z(a)){let l=[];const c=[{nestedArrIndex:-1,value:a}];for(;c.length;){const{nestedArrIndex:u,value:o}=c.pop();if(w(o))if(R(o)&&!fe(o)){let d={v:o,i:u,n:this.norm.get(o)};l.push(d)}else z(o)&&o.forEach((d,f)=>{c.push({nestedArrIndex:f,value:d})})}n.$[r]=l}else if(R(a)&&!fe(a)){let l={v:a,n:this.norm.get(a)};n.$[r]=l}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Ye(s,e,{getFn:t=y.getFn,fieldNormWeight:n=y.fieldNormWeight}={}){const i=new xe({getFn:t,fieldNormWeight:n});return i.setKeys(s.map(Ge)),i.setSources(e),i.create(),i}function Wt(s,{getFn:e=y.getFn,fieldNormWeight:t=y.fieldNormWeight}={}){const{keys:n,records:i}=s,r=new xe({getFn:e,fieldNormWeight:t});return r.setKeys(n),r.setIndexRecords(i),r}function ae(s,{errors:e=0,currentLocation:t=0,expectedLocation:n=0,distance:i=y.distance,ignoreLocation:r=y.ignoreLocation}={}){const a=e/s.length;if(r)return a;const l=Math.abs(n-t);return i?a+l/i:l?1:a}function Gt(s=[],e=y.minMatchCharLength){let t=[],n=-1,i=-1,r=0;for(let a=s.length;r<a;r+=1){let l=s[r];l&&n===-1?n=r:!l&&n!==-1&&(i=r-1,i-n+1>=e&&t.push([n,i]),n=-1)}return s[r-1]&&r-n>=e&&t.push([n,r-1]),t}const X=32;function Yt(s,e,t,{location:n=y.location,distance:i=y.distance,threshold:r=y.threshold,findAllMatches:a=y.findAllMatches,minMatchCharLength:l=y.minMatchCharLength,includeMatches:c=y.includeMatches,ignoreLocation:u=y.ignoreLocation}={}){if(e.length>X)throw new Error(Tt(X));const o=e.length,d=s.length,f=Math.max(0,Math.min(n,d));let v=r,x=f;const m=l>1||c,h=m?Array(d):[];let g;for(;(g=s.indexOf(e,x))>-1;){let b=ae(e,{currentLocation:g,expectedLocation:f,distance:i,ignoreLocation:u});if(v=Math.min(b,v),x=g+o,m){let I=0;for(;I<o;)h[g+I]=1,I+=1}}x=-1;let C=[],B=1,F=o+d;const _=1<<o-1;for(let b=0;b<o;b+=1){let I=0,S=F;for(;I<S;)ae(e,{errors:b,currentLocation:f+S,expectedLocation:f,distance:i,ignoreLocation:u})<=v?I=S:F=S,S=Math.floor((F-I)/2+I);F=S;let P=Math.max(1,f-S+1),A=a?d:Math.min(f+S,d)+o,T=Array(A+2);T[A+1]=(1<<b)-1;for(let D=A;D>=P;D-=1){let J=D-1,te=t[s.charAt(J)];if(m&&(h[J]=+!!te),T[D]=(T[D+1]<<1|1)&te,b&&(T[D]|=(C[D+1]|C[D])<<1|1|C[D+1]),T[D]&_&&(B=ae(e,{errors:b,currentLocation:J,expectedLocation:f,distance:i,ignoreLocation:u}),B<=v)){if(v=B,x=J,x<=f)break;P=Math.max(1,2*f-x)}}if(ae(e,{errors:b+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:u})>v)break;C=T}const E={isMatch:x>=0,score:Math.max(.001,B)};if(m){const b=Gt(h,l);b.length?c&&(E.indices=b):E.isMatch=!1}return E}function Qt(s){let e={};for(let t=0,n=s.length;t<n;t+=1){const i=s.charAt(t);e[i]=(e[i]||0)|1<<n-t-1}return e}const ue=String.prototype.normalize?s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):s=>s;class Qe{constructor(e,{location:t=y.location,threshold:n=y.threshold,distance:i=y.distance,includeMatches:r=y.includeMatches,findAllMatches:a=y.findAllMatches,minMatchCharLength:l=y.minMatchCharLength,isCaseSensitive:c=y.isCaseSensitive,ignoreDiacritics:u=y.ignoreDiacritics,ignoreLocation:o=y.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:i,includeMatches:r,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:o},e=c?e:e.toLowerCase(),e=u?ue(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const d=(v,x)=>{this.chunks.push({pattern:v,alphabet:Qt(v),startIndex:x})},f=this.pattern.length;if(f>X){let v=0;const x=f%X,m=f-x;for(;v<m;)d(this.pattern.substr(v,X),v),v+=X;if(x){const h=f-X;d(this.pattern.substr(h),h)}}else d(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:i}=this.options;if(e=t?e:e.toLowerCase(),e=n?ue(e):e,this.pattern===e){let m={isMatch:!0,score:0};return i&&(m.indices=[[0,e.length-1]]),m}const{location:r,distance:a,threshold:l,findAllMatches:c,minMatchCharLength:u,ignoreLocation:o}=this.options;let d=[],f=0,v=!1;this.chunks.forEach(({pattern:m,alphabet:h,startIndex:g})=>{const{isMatch:C,score:B,indices:F}=Yt(e,m,h,{location:r+g,distance:a,threshold:l,findAllMatches:c,minMatchCharLength:u,includeMatches:i,ignoreLocation:o});C&&(v=!0),f+=B,C&&F&&(d=[...d,...F])});let x={isMatch:v,score:v?f/this.chunks.length:1};return v&&i&&(x.indices=d),x}}class Q{constructor(e){this.pattern=e}static isMultiMatch(e){return De(e,this.multiRegex)}static isSingleMatch(e){return De(e,this.singleRegex)}search(){}}function De(s,e){const t=s.match(e);return t?t[1]:null}class Jt extends Q{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Xt extends Q{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class Zt extends Q{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class qt extends Q{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class es extends Q{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class ts extends Q{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Je extends Q{constructor(e,{location:t=y.location,threshold:n=y.threshold,distance:i=y.distance,includeMatches:r=y.includeMatches,findAllMatches:a=y.findAllMatches,minMatchCharLength:l=y.minMatchCharLength,isCaseSensitive:c=y.isCaseSensitive,ignoreDiacritics:u=y.ignoreDiacritics,ignoreLocation:o=y.ignoreLocation}={}){super(e),this._bitapSearch=new Qe(e,{location:t,threshold:n,distance:i,includeMatches:r,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:o})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Xe extends Q{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n;const i=[],r=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+r,i.push([n,t-1]);const a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}}const me=[Jt,Xe,Zt,qt,ts,es,Xt,Je],ke=me.length,ss=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ns="|";function is(s,e={}){return s.split(ns).map(t=>{let n=t.trim().split(ss).filter(r=>r&&!!r.trim()),i=[];for(let r=0,a=n.length;r<a;r+=1){const l=n[r];let c=!1,u=-1;for(;!c&&++u<ke;){const o=me[u];let d=o.isMultiMatch(l);d&&(i.push(new o(d,e)),c=!0)}if(!c)for(u=-1;++u<ke;){const o=me[u];let d=o.isSingleMatch(l);if(d){i.push(new o(d,e));break}}}return i})}const rs=new Set([Je.type,Xe.type]);class as{constructor(e,{isCaseSensitive:t=y.isCaseSensitive,ignoreDiacritics:n=y.ignoreDiacritics,includeMatches:i=y.includeMatches,minMatchCharLength:r=y.minMatchCharLength,ignoreLocation:a=y.ignoreLocation,findAllMatches:l=y.findAllMatches,location:c=y.location,threshold:u=y.threshold,distance:o=y.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:i,minMatchCharLength:r,findAllMatches:l,ignoreLocation:a,location:c,threshold:u,distance:o},e=t?e:e.toLowerCase(),e=n?ue(e):e,this.pattern=e,this.query=is(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i,ignoreDiacritics:r}=this.options;e=i?e:e.toLowerCase(),e=r?ue(e):e;let a=0,l=[],c=0;for(let u=0,o=t.length;u<o;u+=1){const d=t[u];l.length=0,a=0;for(let f=0,v=d.length;f<v;f+=1){const x=d[f],{isMatch:m,indices:h,score:g}=x.search(e);if(m){if(a+=1,c+=g,n){const C=x.constructor.type;rs.has(C)?l=[...l,...h]:l.push(h)}}else{c=0,a=0,l.length=0;break}}if(a){let f={isMatch:!0,score:c/a};return n&&(f.indices=l),f}}return{isMatch:!1,score:1}}}const Ae=[];function os(...s){Ae.push(...s)}function ye(s,e){for(let t=0,n=Ae.length;t<n;t+=1){let i=Ae[t];if(i.condition(s,e))return new i(s,e)}return new Qe(s,e)}const le={AND:"$and",OR:"$or"},ve={PATH:"$path",PATTERN:"$val"},Ce=s=>!!(s[le.AND]||s[le.OR]),us=s=>!!s[ve.PATH],ls=s=>!z(s)&&Ve(s)&&!Ce(s),$e=s=>({[le.AND]:Object.keys(s).map(e=>({[e]:s[e]}))});function Ze(s,e,{auto:t=!0}={}){const n=i=>{let r=Object.keys(i);const a=us(i);if(!a&&r.length>1&&!Ce(i))return n($e(i));if(ls(i)){const c=a?i[ve.PATH]:r[0],u=a?i[ve.PATTERN]:i[c];if(!R(u))throw new Error(wt(c));const o={keyId:pe(c),pattern:u};return t&&(o.searcher=ye(u,e)),o}let l={children:[],operator:r[0]};return r.forEach(c=>{const u=i[c];z(u)&&u.forEach(o=>{l.children.push(n(o))})}),l};return Ce(s)||(s=$e(s)),n(s)}function cs(s,{ignoreFieldNorm:e=y.ignoreFieldNorm}){s.forEach(t=>{let n=1;t.matches.forEach(({key:i,norm:r,score:a})=>{const l=i?i.weight:null;n*=Math.pow(a===0&&l?Number.EPSILON:a,(l||1)*(e?1:r))}),t.score=n})}function hs(s,e){const t=s.matches;e.matches=[],w(t)&&t.forEach(n=>{if(!w(n.indices)||!n.indices.length)return;const{indices:i,value:r}=n;let a={indices:i,value:r};n.key&&(a.key=n.key.src),n.idx>-1&&(a.refIndex=n.idx),e.matches.push(a)})}function ds(s,e){e.score=s.score}function fs(s,e,{includeMatches:t=y.includeMatches,includeScore:n=y.includeScore}={}){const i=[];return t&&i.push(hs),n&&i.push(ds),s.map(r=>{const{idx:a}=r,l={item:e[a],refIndex:a};return i.length&&i.forEach(c=>{c(r,l)}),l})}class ee{constructor(e,t={},n){this.options={...y,...t},this.options.useExtendedSearch,this._keyStore=new Rt(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof xe))throw new Error($t);this._myIndex=t||Ye(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){w(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,i=this._docs.length;n<i;n+=1){const r=this._docs[n];e(r,n)&&(this.removeAt(n),n-=1,i-=1,t.push(r))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:r,sortFn:a,ignoreFieldNorm:l}=this.options;let c=R(e)?R(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return cs(c,{ignoreFieldNorm:l}),r&&c.sort(a),Ue(t)&&t>-1&&(c=c.slice(0,t)),fs(c,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const t=ye(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:r,i:a,n:l})=>{if(!w(r))return;const{isMatch:c,score:u,indices:o}=t.searchIn(r);c&&i.push({item:r,idx:a,matches:[{score:u,value:r,norm:l,indices:o}]})}),i}_searchLogical(e){const t=Ze(e,this.options),n=(l,c,u)=>{if(!l.children){const{keyId:d,searcher:f}=l,v=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(c,d),searcher:f});return v&&v.length?[{idx:u,item:c,matches:v}]:[]}const o=[];for(let d=0,f=l.children.length;d<f;d+=1){const v=l.children[d],x=n(v,c,u);if(x.length)o.push(...x);else if(l.operator===le.AND)return[]}return o},i=this._myIndex.records,r={},a=[];return i.forEach(({$:l,i:c})=>{if(w(l)){let u=n(t,l,c);u.length&&(r[c]||(r[c]={idx:c,item:l,matches:[]},a.push(r[c])),u.forEach(({matches:o})=>{r[c].matches.push(...o)}))}}),a}_searchObjectList(e){const t=ye(e,this.options),{keys:n,records:i}=this._myIndex,r=[];return i.forEach(({$:a,i:l})=>{if(!w(a))return;let c=[];n.forEach((u,o)=>{c.push(...this._findMatches({key:u,value:a[o],searcher:t}))}),c.length&&r.push({idx:l,item:a,matches:c})}),r}_findMatches({key:e,value:t,searcher:n}){if(!w(t))return[];let i=[];if(z(t))t.forEach(({v:r,i:a,n:l})=>{if(!w(r))return;const{isMatch:c,score:u,indices:o}=n.searchIn(r);c&&i.push({score:u,key:e,value:r,idx:a,norm:l,indices:o})});else{const{v:r,n:a}=t,{isMatch:l,score:c,indices:u}=n.searchIn(r);l&&i.push({score:c,key:e,value:r,norm:a,indices:u})}return i}}ee.version="7.1.0";ee.createIndex=Ye;ee.parseIndex=Wt;ee.config=y;ee.parseQuery=Ze;os(as);function gs(s,e,t){const n=()=>{var a,l;return new ee((a=N(e))!=null?a:[],(l=N(t))==null?void 0:l.fuseOptions)},i=Pe(n());Be(()=>{var a;return(a=N(t))==null?void 0:a.fuseOptions},()=>{i.value=n()},{deep:!0}),Be(()=>N(e),a=>{i.value.setCollection(a)},{deep:!0});const r=Y(()=>{const a=N(t);if(a!=null&&a.matchAllWhenSearchEmpty&&!N(s))return N(e).map((c,u)=>({item:c,refIndex:u}));const l=a==null?void 0:a.resultLimit;return i.value.search(N(s),l?{limit:l}:void 0)});return{fuse:i,results:r}}function ps(s,e){let t="",n=0,i=!1;for(let r=s.length-1;r>=0;r--){if(s[r]===">")i=!0;else if(s[r]==="<"){i=!1,t=s[r]+t;continue}if(i||n++,n<=e)t=s[r]+t;else{t="..."+t;break}}return t}function we(s,e,t,n){var r;function i(a,l=[]){a=a||"";let c="",u=0;l.forEach(d=>{if(d.length===2&&d[0]===d[1])return;const f=d[1]+1,v=f-d[0]>=e.length;c+=[a.substring(u,d[0]),v&&"<mark>",a.substring(d[0],f),v&&"</mark>"].filter(Boolean).join(""),u=f}),c+=a.substring(u);const o=c.indexOf("<mark>");return o!==-1&&(c=ps(c,c.length-o)),c}if((r=s.matches)!=null&&r.length){for(const a of s.matches)if(!(t&&a.key!==t)&&!(n!=null&&n.includes(a.key)))return i(a.value,a.indices)}}const ms={slots:{root:"flex flex-col min-h-0 min-w-0 divide-y divide-(--ui-border)",input:"[&>input]:h-12",close:"",content:"relative overflow-hidden flex flex-col",viewport:"relative divide-y divide-(--ui-border) scroll-py-1 overflow-y-auto flex-1 focus:outline-none",group:"p-1 isolate",empty:"py-6 text-center text-sm text-(--ui-text-muted)",label:"px-2 py-1.5 text-xs font-semibold text-(--ui-text-highlighted)",item:"group relative w-full flex items-center gap-2 px-2 py-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-[calc(var(--ui-radius)*1.5)] data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0 size-5",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"2xs",itemLeadingChip:"shrink-0 size-5",itemLeadingChipSize:"md",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0 size-5",itemTrailingHighlightedIcon:"shrink-0 size-5 text-(--ui-text-dimmed) hidden group-data-highlighted:inline-flex",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5",itemTrailingKbdsSize:"md",itemLabel:"truncate space-x-1 rtl:space-x-reverse text-(--ui-text-dimmed)",itemLabelBase:"text-(--ui-text-highlighted) [&>mark]:text-(--ui-bg) [&>mark]:bg-(--ui-primary)",itemLabelPrefix:"text-(--ui-text)",itemLabelSuffix:"text-(--ui-text-dimmed) [&>mark]:text-(--ui-bg) [&>mark]:bg-(--ui-primary)"},variants:{active:{true:{item:"text-(--ui-text-highlighted) before:bg-(--ui-bg-elevated)",itemLeadingIcon:"text-(--ui-text)"},false:{item:["text-(--ui-text) data-highlighted:text-(--ui-text-highlighted) data-highlighted:before:bg-(--ui-bg-elevated)/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-(--ui-text-dimmed) group-data-highlighted:text-(--ui-text)","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}}}},As=["innerHTML"],ys=["innerHTML"],vs=He;var Te;const Cs=Me({extend:Me(ms),...((Te=vs.ui)==null?void 0:Te.commandPalette)||{}}),bs=be({__name:"CommandPalette",props:ge({as:{},icon:{},selectedIcon:{},placeholder:{},autofocus:{type:Boolean,default:!0},close:{type:[Boolean,Object]},closeIcon:{},groups:{},fuse:{},labelKey:{default:"label"},class:{},ui:{},multiple:{type:Boolean},disabled:{type:Boolean},modelValue:{default:""},defaultValue:{},highlightOnHover:{type:Boolean},loading:{type:Boolean},loadingIcon:{}},{searchTerm:{default:""},searchTermModifiers:{}}),emits:ge(["update:modelValue","highlight","entryFocus","leave","update:open"],["update:searchTerm"]),setup(s,{emit:e}){const t=s,n=e,i=Re(),r=Ke(s,"searchTerm"),{t:a}=tt(),l=Ne(),c=st(Fe(t,"as","disabled","multiple","modelValue","defaultValue","highlightOnHover"),n),u=nt(Fe(t,"loading","loadingIcon")),o=Cs(),d=Y(()=>ze({},t.fuse,{fuseOptions:{ignoreLocation:!0,threshold:.1,keys:[t.labelKey,"suffix"]},resultLimit:12,matchAllWhenSearchEmpty:!0})),f=Y(()=>{var h;return((h=t.groups)==null?void 0:h.filter(g=>g.id?!g.ignoreFilter:(console.warn("[@nuxt/ui] CommandPalette group is missing an `id` property"),!1)).flatMap(g=>{var C;return((C=g.items)==null?void 0:C.map(B=>({...B,group:g.id})))||[]}))||[]}),{results:v}=gs(r,f,d);function x(h,g){return h!=null&&h.postFilter&&typeof h.postFilter=="function"&&(g=h.postFilter(r.value,g)),{...h,items:g.slice(0,d.value.resultLimit).map(C=>({...C,labelHtml:we(C,r.value,t.labelKey),suffixHtml:we(C,r.value,void 0,[t.labelKey])}))}}const m=Y(()=>{var B,F,_;const h=v.value.reduce((E,b)=>{var P,A;const{item:I,matches:S}=b;return I.group&&(E[P=I.group]||(E[P]=[]),(A=E[I.group])==null||A.push({...I,matches:S})),E},{}),g=Object.entries(h).map(([E,b])=>{var S;const I=(S=t.groups)==null?void 0:S.find(P=>P.id===E);if(I)return x(I,b)}).filter(E=>!!E);return(((_=(F=(B=t.groups)==null?void 0:B.map((E,b)=>({...E,index:b})))==null?void 0:F.filter(E=>{var b;return E.ignoreFilter&&((b=E.items)==null?void 0:b.length)}))==null?void 0:_.map(E=>({...x(E,E.items||[]),index:E.index})))||[]).reduce((E,b)=>(E.splice(b.index,0,b),E),[...g])});return(h,g)=>{var C;return M(),k(p(it),K(p(c),{class:p(o).root({class:[t.class,(C=t.ui)==null?void 0:C.root]})}),{default:$(()=>{var B;return[W(p(ot),{modelValue:r.value,"onUpdate:modelValue":g[1]||(g[1]=F=>r.value=F),"as-child":""},{default:$(()=>{var F;return[W(rt,K({placeholder:h.placeholder||p(a)("commandPalette.placeholder"),variant:"none",autofocus:h.autofocus,size:"lg"},p(u),{icon:h.icon||p(l).ui.icons.search,class:p(o).input({class:(F=t.ui)==null?void 0:F.input})}),je({_:2},[h.close||i.close?{name:"trailing",fn:$(()=>[G(h.$slots,"close",{ui:p(o)},()=>{var _;return[h.close?(M(),k(at,K({key:0,icon:h.closeIcon||p(l).ui.icons.close,size:"md",color:"neutral",variant:"ghost","aria-label":p(a)("commandPalette.close")},typeof h.close=="object"?h.close:{},{class:p(o).close({class:(_=t.ui)==null?void 0:_.close}),onClick:g[0]||(g[0]=E=>n("update:open",!1))}),null,16,["icon","aria-label","class"])):q("",!0)]})]),key:"0"}:void 0]),1040,["placeholder","autofocus","icon","class"])]}),_:3},8,["modelValue"]),W(p(At),{class:L(p(o).content({class:(B=t.ui)==null?void 0:B.content}))},{default:$(()=>{var F,_,E;return[(F=m.value)!=null&&F.length?(M(),V("div",{key:0,class:L(p(o).viewport({class:(_=t.ui)==null?void 0:_.viewport}))},[(M(!0),V(ce,null,oe(m.value,(b,I)=>{var S;return M(),k(p(ut),{key:`group-${I}`,class:L(p(o).group({class:(S=t.ui)==null?void 0:S.group}))},{default:$(()=>{var P;return[p(ie)(b,t.labelKey)?(M(),k(p(_t),{key:0,class:L(p(o).label({class:(P=t.ui)==null?void 0:P.label}))},{default:$(()=>[Ie(he(p(ie)(b,t.labelKey)),1)]),_:2},1032,["class"])):q("",!0),(M(!0),V(ce,null,oe(b.items,(A,T)=>(M(),k(p(lt),{key:`group-${I}-${T}`,value:p(ct)(A,["matches","group","onSelect","labelHtml","suffixHtml"]),disabled:A.disabled,"as-child":"",onSelect:A.onSelect},{default:$(()=>[W(ht,K({ref_for:!0},p(dt)(A),{custom:""}),{default:$(({active:j,...D})=>{var J;return[W(ft,K({ref_for:!0},D,{class:p(o).item({class:(J=t.ui)==null?void 0:J.item,active:j||A.active})}),{default:$(()=>[G(h.$slots,A.slot||b.slot||"item",{item:A,index:T},()=>{var te,Ee;return[G(h.$slots,A.slot?`${A.slot}-leading`:b.slot?`${b.slot}-leading`:"item-leading",{item:A,index:T},()=>{var O,H,U,Z,ne,se;return[A.loading?(M(),k(re,{key:0,name:h.loadingIcon||p(l).ui.icons.loading,class:L(p(o).itemLeadingIcon({class:(O=t.ui)==null?void 0:O.itemLeadingIcon,loading:!0}))},null,8,["name","class"])):A.icon?(M(),k(re,{key:1,name:A.icon,class:L(p(o).itemLeadingIcon({class:(H=t.ui)==null?void 0:H.itemLeadingIcon,active:j||A.active}))},null,8,["name","class"])):A.avatar?(M(),k(gt,K({key:2,size:((U=t.ui)==null?void 0:U.itemLeadingAvatarSize)||p(o).itemLeadingAvatarSize(),ref_for:!0},A.avatar,{class:p(o).itemLeadingAvatar({class:(Z=t.ui)==null?void 0:Z.itemLeadingAvatar,active:j||A.active})}),null,16,["size","class"])):A.chip?(M(),k(pt,K({key:3,size:((ne=t.ui)==null?void 0:ne.itemLeadingChipSize)||p(o).itemLeadingChipSize(),inset:"",standalone:"",ref_for:!0},A.chip,{class:p(o).itemLeadingChip({class:(se=t.ui)==null?void 0:se.itemLeadingChip,active:j||A.active})}),null,16,["size","class"])):q("",!0)]}),A.labelHtml||p(ie)(A,t.labelKey)||i[A.slot?`${A.slot}-label`:b.slot?`${b.slot}-label`:"item-label"]?(M(),V("span",{key:0,class:L(p(o).itemLabel({class:(te=t.ui)==null?void 0:te.itemLabel,active:j||A.active}))},[G(h.$slots,A.slot?`${A.slot}-label`:b.slot?`${b.slot}-label`:"item-label",{item:A,index:T},()=>{var O,H,U;return[A.prefix?(M(),V("span",{key:0,class:L(p(o).itemLabelPrefix({class:(O=t.ui)==null?void 0:O.itemLabelPrefix}))},he(A.prefix),3)):q("",!0),de("span",{class:L(p(o).itemLabelBase({class:(H=t.ui)==null?void 0:H.itemLabelBase,active:j||A.active})),innerHTML:A.labelHtml||p(ie)(A,t.labelKey)},null,10,As),de("span",{class:L(p(o).itemLabelSuffix({class:(U=t.ui)==null?void 0:U.itemLabelSuffix,active:j||A.active})),innerHTML:A.suffixHtml||A.suffix},null,10,ys)]})],2)):q("",!0),de("span",{class:L(p(o).itemTrailing({class:(Ee=t.ui)==null?void 0:Ee.itemTrailing}))},[G(h.$slots,A.slot?`${A.slot}-trailing`:b.slot?`${b.slot}-trailing`:"item-trailing",{item:A,index:T},()=>{var O,H,U;return[(O=A.kbds)!=null&&O.length?(M(),V("span",{key:0,class:L(p(o).itemTrailingKbds({class:(H=t.ui)==null?void 0:H.itemTrailingKbds}))},[(M(!0),V(ce,null,oe(A.kbds,(Z,ne)=>{var se;return M(),k(Mt,K({key:ne,size:((se=t.ui)==null?void 0:se.itemTrailingKbdsSize)||p(o).itemTrailingKbdsSize(),ref_for:!0},typeof Z=="string"?{value:Z}:Z),null,16,["size"])}),128))],2)):b.highlightedIcon?(M(),k(re,{key:1,name:b.highlightedIcon,class:L(p(o).itemTrailingHighlightedIcon({class:(U=t.ui)==null?void 0:U.itemTrailingHighlightedIcon}))},null,8,["name","class"])):q("",!0)]}),W(p(mt),{"as-child":""},{default:$(()=>{var O;return[W(re,{name:h.selectedIcon||p(l).ui.icons.check,class:L(p(o).itemTrailingIcon({class:(O=t.ui)==null?void 0:O.itemTrailingIcon}))},null,8,["name","class"])]}),_:1})],2)]})]),_:2},1040,["class"])]}),_:2},1040)]),_:2},1032,["value","disabled","onSelect"]))),128))]}),_:2},1032,["class"])}),128))],2)):(M(),V("div",{key:1,class:L(p(o).empty({class:(E=t.ui)==null?void 0:E.empty}))},[G(h.$slots,"empty",{searchTerm:r.value},()=>[Ie(he(r.value?p(a)("commandPalette.noMatch",{searchTerm:r.value}):p(a)("commandPalette.noData")),1)])],2))]}),_:3},8,["class"])]}),_:3},16,["class"])}}}),xs=Object.assign(bs,{__name:"UCommandPalette"}),Es={slots:{modal:"sm:max-w-3xl sm:h-[28rem]"}},Bs=/^[^-]+.*-.*[^-]+$/,Fs=/^[^_]+.*_.*[^_]+$/;function Ms(s,e={}){const t=Pe([]),n=()=>{t.value.splice(0,t.value.length)},i=yt(n,e.chainDelay??800),r=vt(),a=u=>{if(!u.key)return;const o=/^[a-z]{1}$/i.test(u.key);let d;if(t.value.push(u.key),t.value.length>=2){d=t.value.slice(-2).join("-");for(const f of c.value.filter(v=>v.chained))if(f.key===d){f.enabled&&(u.preventDefault(),f.handler(u)),n();return}}for(const f of c.value.filter(v=>!v.chained))if(u.key.toLowerCase()===f.key&&u.metaKey===f.metaKey&&u.ctrlKey===f.ctrlKey&&!(o&&u.shiftKey!==f.shiftKey)){f.enabled&&(u.preventDefault(),f.handler()),n();return}i()},l=Y(()=>{var f,v,x;const u=(f=r.value)==null?void 0:f.tagName,o=(v=r.value)==null?void 0:v.contentEditable;return u==="INPUT"||u==="TEXTAREA"||o==="true"||o==="plaintext-only"?((x=r.value)==null?void 0:x.name)||!0:!1}),c=Y(()=>Object.entries(N(s)).map(([u,o])=>{var x,m;if(!o)return null;let d;u.includes("-")&&u!=="-"&&!((x=u.match(Bs))!=null&&x.length)&&console.trace(`[Shortcut] Invalid key: "${u}"`),u.includes("_")&&u!=="_"&&!((m=u.match(Fs))!=null&&m.length)&&console.trace(`[Shortcut] Invalid key: "${u}"`);const f=u.includes("-")&&u!=="-";if(f)d={key:u.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const h=u.toLowerCase().split("_").map(g=>g);d={key:h.filter(g=>!["meta","command","ctrl","shift","alt","option"].includes(g)).join("_"),metaKey:h.includes("meta")||h.includes("command"),ctrlKey:h.includes("ctrl"),shiftKey:h.includes("shift"),altKey:h.includes("alt")||h.includes("option")}}if(d.chained=f,typeof o=="function"?d.handler=o:typeof o=="object"&&(d={...d,handler:o.handler}),!d.handler)return console.trace("[Shortcut] Invalid value"),null;let v=!0;return o.usingInput?typeof o.usingInput=="string"&&(v=l.value===o.usingInput):v=!l.value,d.enabled=v,d}).filter(Boolean));return Ct("keydown",a)}const Is=He;var Oe;const _s=_e({extend:_e(Es),...((Oe=Is.uiPro)==null?void 0:Oe.contentSearch)||{}}),Ss=be({__name:"ContentSearch",props:ge({icon:{},placeholder:{},loading:{type:Boolean},loadingIcon:{},shortcut:{default:"meta_k"},links:{},navigation:{},groups:{},files:{},fuse:{},colorMode:{type:Boolean,default:!0},class:{},ui:{}},{searchTerm:{default:""},searchTermModifiers:{}}),emits:["update:searchTerm"],setup(s){const e=s,t=Re(),n=Ke(s,"searchTerm"),i=Ne(),{open:r}=It(),a=bt(),l=Y(()=>ze({},e.fuse,{fuseOptions:{includeMatches:!0}})),c=_s();function u(m){return m.flatMap(h=>{var g;return[{...h,suffix:h.description,icon:h.icon||i.ui.icons.file},...((g=h.children)==null?void 0:g.map(C=>({...C,prefix:h.label+" >",suffix:C.description,icon:C.icon||h.icon||i.ui.icons.file})))||[]]})}function o(m,h){return m.flatMap(g=>{var C,B,F;return(C=g.children)!=null&&C.length?o(g.children,g):((F=(B=e.files)==null?void 0:B.filter(_=>_.id===g.path||_.id.startsWith(`${g.path}#`)))==null?void 0:F.map(_=>d(_,g,h)))||[]})}function d(m,h,g){const C=[...new Set([g==null?void 0:g.title,...m.titles].filter(Boolean))];return{prefix:C!=null&&C.length?C.join(" > ")+" >":void 0,label:m.id===h.path?h.title:m.title,suffix:m.content.replaceAll("<","&lt;").replaceAll(">","&gt;"),to:m.id,icon:h.icon||(g==null?void 0:g.icon)||(m.level>1?i.ui.icons.hash:i.ui.icons.file),level:m.level}}const f=Y(()=>{var h,g;const m=[];return(h=e.links)!=null&&h.length&&m.push({id:"links",label:"Links",items:u(e.links)}),(g=e.navigation)!=null&&g.length&&(e.navigation.some(C=>{var B;return!!((B=C.children)!=null&&B.length)})?m.push(...e.navigation.map(C=>({id:C.path,label:C.title,items:o(C.children||[]),postFilter:v}))):m.push({id:"docs",items:o(e.navigation),postFilter:v})),m.push(...e.groups||[]),e.colorMode&&!(a!=null&&a.forced)&&m.push({id:"theme",label:"Theme",items:[{label:"System",icon:i.ui.icons.system,active:a.preference==="system",onSelect:()=>{a.preference="system"}},{label:"Light",icon:i.ui.icons.light,active:a.preference==="light",onSelect:()=>{a.preference="light"}},{label:"Dark",icon:i.ui.icons.dark,active:a.preference==="dark",onSelect:()=>{a.preference="dark"}}]}),m});function v(m,h){return m?h:h==null?void 0:h.filter(g=>g.level===1)}function x(m){m.disabled||(r.value=!1,n.value="")}return Ms({[e.shortcut]:{usingInput:!0,handler:()=>r.value=!r.value}}),(m,h)=>{const g=xs,C=Ft;return M(),k(C,{open:p(r),"onUpdate:open":h[2]||(h[2]=B=>Bt(r)?r.value=B:null),class:L(p(c).modal({class:e.class}))},{content:$(()=>[W(g,{"search-term":n.value,"onUpdate:searchTerm":h[0]||(h[0]=B=>n.value=B),icon:m.icon,placeholder:m.placeholder,loading:m.loading,"loading-icon":m.loadingIcon,groups:f.value,fuse:l.value,close:"","onUpdate:modelValue":x,"onUpdate:open":h[1]||(h[1]=B=>r.value=B)},je({_:2},[oe(t,(B,F)=>({name:F,fn:$(_=>[G(m.$slots,F,xt(Et(_)))])}))]),1032,["search-term","icon","placeholder","loading","loading-icon","groups","fuse"])]),_:3},8,["open","class"])}}}),$s=Object.assign(Ss,{__name:"UContentSearch"});export{$s as default};
