import{S as D,ad as M,d as R,L as j,N as G,z as H,J as T,C as v,i as l,w as p,g as A,n as _,G as t,c as y,F as V,$ as J,e as g,f as i,a5 as O,E as I,a6 as Q,a7 as W,D as h,a8 as E,a9 as X,a1 as K,a2 as Y,t as F,P as Z,v as aa,au as z,ax as ea,ay as ta,az as sa,av as P,aw as na,aA as oa,aB as ra,at as la,aC as ia}from"./Dzy_iziP.js";import{_ as ca,a as ua}from"./DlRfszoi.js";import{_ as pa,a as da,b as ma}from"./Ovqgjhvw.js";const _a={slots:{root:"relative min-w-0",list:"flex items-center gap-1.5",item:"flex min-w-0",link:"group relative flex items-center gap-1.5 text-sm min-w-0 focus-visible:outline-(--ui-primary)",linkLeadingIcon:"shrink-0 size-5",linkLeadingAvatar:"shrink-0",linkLeadingAvatarSize:"2xs",linkLabel:"truncate",separator:"flex",separatorIcon:"shrink-0 size-5 text-(--ui-text-muted)"},variants:{active:{true:{link:"text-(--ui-primary) font-semibold"},false:{link:"text-(--ui-text-muted) font-medium"}},disabled:{true:{link:"cursor-not-allowed opacity-75"}},to:{true:""}},compoundVariants:[{disabled:!1,active:!1,to:!0,class:{link:["hover:text-(--ui-text)","transition-colors"]}}]},ga=M;var q;const fa=D({extend:D(_a),...((q=ga.ui)==null?void 0:q.breadcrumb)||{}}),va=R({__name:"Breadcrumb",props:{as:{default:"nav"},items:{},separatorIcon:{},labelKey:{default:"label"},class:{},ui:{}},setup(x){const e=x,c=j(),{dir:k}=G(),n=H(),L=T(()=>e.separatorIcon||(k.value==="rtl"?n.ui.icons.chevronLeft:n.ui.icons.chevronRight)),r=fa();return(o,N)=>{var b;return l(),v(t(Z),{as:o.as,"aria-label":"breadcrumb",class:_(t(r).root({class:[e.class,(b=e.ui)==null?void 0:b.root]}))},{default:p(()=>{var d;return[A("ol",{class:_(t(r).list({class:(d=e.ui)==null?void 0:d.list}))},[(l(!0),y(V,null,J(o.items,(a,s)=>{var m,C;return l(),y(V,{key:s},[A("li",{class:_(t(r).item({class:(m=e.ui)==null?void 0:m.item}))},[i(O,I({ref_for:!0},t(Q)(a),{custom:""}),{default:p(({active:f,...S})=>{var w;return[i(W,I({ref_for:!0},S,{as:"span","aria-current":f&&s===o.items.length-1?"page":void 0,class:t(r).link({class:[(w=e.ui)==null?void 0:w.link,a.class],active:s===o.items.length-1,disabled:!!a.disabled,to:!!a.to})}),{default:p(()=>[h(o.$slots,a.slot||"item",{item:a,index:s},()=>{var B;return[h(o.$slots,a.slot?`${a.slot}-leading`:"item-leading",{item:a,active:s===o.items.length-1,index:s},()=>{var $,U,u;return[a.icon?(l(),v(E,{key:0,name:a.icon,class:_(t(r).linkLeadingIcon({class:($=e.ui)==null?void 0:$.linkLeadingIcon,active:s===o.items.length-1}))},null,8,["name","class"])):a.avatar?(l(),v(X,I({key:1,size:((U=e.ui)==null?void 0:U.linkLeadingAvatarSize)||t(r).linkLeadingAvatarSize(),ref_for:!0},a.avatar,{class:t(r).linkLeadingAvatar({class:(u=e.ui)==null?void 0:u.linkLeadingAvatar,active:s===o.items.length-1})}),null,16,["size","class"])):g("",!0)]}),t(K)(a,e.labelKey)||c[a.slot?`${a.slot}-label`:"item-label"]?(l(),y("span",{key:0,class:_(t(r).linkLabel({class:(B=e.ui)==null?void 0:B.linkLabel}))},[h(o.$slots,a.slot?`${a.slot}-label`:"item-label",{item:a,active:s===o.items.length-1,index:s},()=>[Y(F(t(K)(a,e.labelKey)),1)])],2)):g("",!0),h(o.$slots,a.slot?`${a.slot}-trailing`:"item-trailing",{item:a,active:s===o.items.length-1,index:s})]})]),_:2},1040,["aria-current","class"])]}),_:2},1040)],2),s<o.items.length-1?(l(),y("li",{key:0,role:"presentation","aria-hidden":"true",class:_(t(r).separator({class:(C=e.ui)==null?void 0:C.separator}))},[h(o.$slots,"separator",{},()=>{var f;return[i(E,{name:L.value,class:_(t(r).separatorIcon({class:(f=e.ui)==null?void 0:f.separatorIcon}))},null,8,["name","class"])]})],2)):g("",!0)],64)}),128))],2)]}),_:3},8,["as","class"])}}}),ka=Object.assign(va,{__name:"UBreadcrumb"}),ba={class:"text-gray-500 dark:text-gray-400"},ha={key:1},wa=R({__name:"[slug]",async setup(x){let e,c;const k=aa(),{data:n}=([e,c]=z(()=>P("single-post",()=>na("posts").where("path","LIKE",k.path).first())),e=await e,c(),e);if(!n.value)throw ea({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:L}=([e,c]=z(()=>P("navigation",()=>oa("posts"))),e=await e,c(),e);function r(d,a){for(const s of d){if(s.path===a)return[s];if(s.children){const m=r(s.children,a);if(m.length)return[s,...m]}}return[]}function o(d){return d.map(({title:a,path:s})=>({label:a,to:s}))}const N=T(()=>!L.value||!n.value?[]:o(r(L.value,n.value.path))),{data:b}=([e,c]=z(()=>P(`${k.path}-surround`,()=>ra("posts",k.path,{fields:["description"]}))),e=await e,c(),e);return ta({title:n.value.title,ogTitle:n.value.title,description:n.value.description,ogDescription:n.value.description}),(d,a)=>{const s=la,m=ca,C=ka,f=pa,S=da,w=ua,B=ma,$=ia,U=sa;return t(n)?(l(),v(U,{key:0},{default:p(()=>[i(m,{title:t(n).title,description:t(n).description},{headline:p(()=>[i(s,I(t(n).badge,{variant:"subtle"}),null,16),a[0]||(a[0]=A("span",{class:"text-gray-500 dark:text-gray-400"},"Â·",-1)),A("time",ba,F(new Date(t(n).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),_:1},8,["title","description"]),i($,null,{right:p(()=>[t(n).body&&t(n).body.toc?(l(),v(B,{key:0,links:t(n).body.toc.links.map(u=>({...u,id:u.id,depth:1}))},null,8,["links"])):g("",!0)]),default:p(()=>[i(w,{prose:""},{default:p(()=>{var u;return[i(C,{items:N.value},null,8,["items"]),t(n)&&t(n).body?(l(),v(f,{key:0,value:t(n)},null,8,["value"])):g("",!0),(u=t(b))!=null&&u.length?(l(),y("hr",ha)):g("",!0),i(S,{surround:t(b)},null,8,["surround"])]}),_:1})]),_:1})]),_:1})):g("",!0)}}});export{wa as default};
